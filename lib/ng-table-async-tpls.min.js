/*
 * ng-table-async
 * ngTable wrapper that offers some basic functionality and abstractions for working with asynchronous tables.
 * @author  Andrés Mata Suárez <amatasuarez@gmail.com>
 * @version 0.0.0
 * @link    https://github.com/andresmatasuarez/ng-table-async
 * @license MIT
 */
(function(){"use strict";angular.module("ngTableAsync",["ngTable"])}).call(this),function(){"use strict";var t,n,a,e;t=angular.module("ngTableAsync"),a=function(t){var n,a,e;return t=angular.element(t),n=t.html(),n?(e=_.isEmpty(t.find("nta-content"))?t:t.find("nta-content"),n="<td>"+e[0].outerHTML+"</td>"):(a=t.attr("content"),n=a?'<td ng-bind="'+a+'"></td>':"<td></td>"),n},e=function(t){var n;return t=angular.element(t),n=_.isEmpty(t.attr("header"))?"":t.attr("header"),n?n='<th ng-bind="'+n+'"></th>':(_.isEmpty(t.find("nta-content"))||(n=t.find("nta-header").html()),n="<th>"+n+"</th>"),n},n=function(t){return{header:e(t),content:a(t)}},t.directive("ngTableAsync",function(t,a){return{restrict:"E",scope:{options:"="},template:function(t,a){var e,i,l,r,o,s,c,u,d,p,g,m,f;return e=t.find("nta-column"),f=_.map(e,n),l=_.map(f,"header"),i=_.map(f,"content"),c=t.find("no-data"),u=c.html(),u||(d=c.attr("template-url"),u=d?'<nta-no-data template-url="'+d+'"></nta-no-data>':'<nta-no-data text="'+c.attr("text")+'"></nta-no-data>'),p=t.find("pager"),m=p.attr("template-url"),g='<nta-pager template-url="'+m+'"></nta-pager>',r=t.find("loading"),s=r.attr("template-url"),o='<nta-loading template-url="'+s+'"></nta-loading>','<div class="container-fluid nta-container" ng-show="tableParams.total()"> <div class="row"> <div class="col-md-12"> <div ng-if="options.pagerOnTop"> '+g+' </div> <div class="nta-content row"> <div class="panel panel-default"> <table ng-table="tableParams" class="table ng-table ng-table-responsive nta-table"> <thead> <tr> '+l.join(" ")+' </tr> </thead> <tbody> <tr ng-repeat="item in $data"> '+i.join(" ")+' </tr> </tbody> </table> </div> <div ng-show="loading" class="nta-loading-container"> '+o+' </div> </div> <div ng-if="options.pagerOnBottom"> '+g+' </div> </div> </div> </div> <div ng-show="!tableParams.total()"> '+u+" </div>"},controller:function(t,n,e){return t.options=_.merge({pagerOnTop:e.PAGER_ON_TOP,pagerOnBottom:e.PAGER_ON_BOTTOM,defaultPage:e.DEFAULT_PAGE,pageSize:e.PAGE_SIZE},t.options),t.mainScope=t,t.tableParams=new a({page:t.options.defaultPage,count:t.options.pageSize},{$scope:t,getData:function(n,a){var e,i;return t.loading=!0,i=(a.page()-1)*a.count(),e=a.count(),t.options.getPage(i,e).then(function(a){return t.tableParams.total(a[0]),n.resolve(a[1]),delete t.loading})}})}}})}.call(this),function(){"use strict";var t;t=angular.module("ngTableAsync"),t.value("ngTableAsyncDefaults",{DEFAULT_PAGE:1,PAGE_SIZE:10,NO_DATA_TEXT:"No available results to show",PAGER_ON_TOP:!1,PAGER_ON_BOTTOM:!0,SUPPORTED_VALUES:{NTA_ACTION_SIZE:["xs","sm","lg"],NTA_ACTION_STYLE:["default","primary","success","info","warning","danger","link"]},DEFAULT_VALUES:{NTA_ACTION_SIZE:"",NTA_ACTION_STYLE:"default"},DEFAULT_TEMPLATES:{NTA_ACTION:"_ng_table_async_action.html",NTA_LOADING:"_ng_table_async_loading.html",NTA_NO_DATA:"_ng_table_async_no_data.html",NTA_PAGER:"_ng_table_async_pager.html"}})}.call(this),function(){"use strict";var t,n,a=[].indexOf||function(t){for(var n=0,a=this.length;a>n;n++)if(n in this&&this[n]===t)return n;return-1};t=angular.module("ngTableAsync"),n=function(t){var n;return n=t&&t.templateUrl?t:void 0,_.isUndefined(n)||_.isEmpty(n.params)||_.isFunction(n.params)?n:(n.params=function(){return _.isEmpty(n.params),void 0},n.params=function(t){return _.isObject(n.params)?n.params:void 0},_.isString(n.params)&&(n.params=function(t){var a;return a={},a[n.params]=t,a}),n.params=function(t){return{item:t}},n)},t.directive("ntaAction",function(t){return{restrict:"E",scope:!0,templateUrl:function(n,a){return a.templateUrl&&"undefined"!==a.templateUrl?a.templateUrl:t.DEFAULT_TEMPLATES.NTA_ACTION},controller:function(e,i,l,r){var o,s,c,u,d,p,g,m,f,T,A,h;if(c=t,s=e.options.actions[i.action],p=_.isFunction(s)?s:s.method,A=_.isUndefined(s.reload)?!0:s.reload,u=n(s.dialog),e.label=i.label,e.icon=i.icon&&"undefined"!==i.icon?i.icon:void 0,f=i.size,e.size=a.call(c.SUPPORTED_VALUES.NTA_ACTION_SIZE,f)>=0?"btn-"+i.size:c.DEFAULT_VALUES.NTA_ACTION_SIZE,T=i.style,e.style=a.call(c.SUPPORTED_VALUES.NTA_ACTION_STYLE,T)>=0?"btn-"+i.style:"btn-"+c.DEFAULT_VALUES.NTA_ACTION_STYLE,g=function(t){return e.mainScope.loading=!0,l.when().then(function(){return p(t)}).then(function(){return A?e.tableParams.reload():void 0})["finally"](function(){return delete e.mainScope.loading})},_.isEmpty(s.dialog))h=g;else try{o=r.get("$modal"),m=function(t){var n,a,i;return i=u.params(t),a=_.merge(e.$new(!0),i),n=o.open({templateUrl:u.templateUrl,scope:a}),n.result.then(function(){return g(t)})["catch"](function(){return u&&u.onCancel?u.onCancel(t,i):void 0})},h=m}catch(v){d=v,h=g}return e["do"]=function(){return h(e.item)}}}})}.call(this),function(){angular.module("ngTableAsync").run(["$templateCache",function(t){t.put("_ng_table_async_action.html",'<button type="button" ng-click="do()" class="btn {{size}} {{style}}"><span ng-if="icon"><span class="{{icon}}"></span><span ng-if="label">&nbsp;</span></span><span ng-bind="label"></span></button>'),t.put("_ng_table_async_loading.html",'<div class="nta-loading"><div class="nta-loading-loader"><i class="glyphicon glyphicon-refresh nta-loading-spinner"></i></div></div>'),t.put("_ng_table_async_no_data.html",'<div class="container no-data-container"><div class="row"><div class="col-md-6 col-md-offset-3"><h2 ng-bind="text" class="text-muted text-center"></h2></div></div></div>'),t.put("_ng_table_async_pager.html",'<div class="text-center"><ul class="pagination ng-table-pagination"><li ng-repeat="page in pages" ng-class="{\'disabled active\': !page.active, \'previous\': page.type == \'prev\', \'next\': page.type == \'next\'}" ng-switch="page.type"><a ng-switch-when="prev" ng-click="params.page(page.number)" href=""><span class="glyphicon glyphicon-chevron-left"></span></a><a ng-switch-when="next" ng-click="params.page(page.number)" href=""><span class="glyphicon glyphicon-chevron-right"></span></a><a ng-switch-when="more" ng-click="params.page(page.number)" href="">...</a><a ng-switch-default="" ng-click="params.page(page.number)" href="">{{ page.number }}</a></li></ul></div>')}])}.call(this),function(){"use strict";var t;t=angular.module("ngTableAsync"),t.directive("ntaLoading",function(t){return{restrict:"E",templateUrl:function(n,a){return a.templateUrl&&"undefined"!==a.templateUrl?a.templateUrl:t.DEFAULT_TEMPLATES.NTA_LOADING}}})}.call(this),function(){"use strict";var t;t=angular.module("ngTableAsync"),t.directive("ntaNoData",function(t){return{restrict:"E",scope:!0,templateUrl:function(n,a){return a.templateUrl&&"undefined"!==a.templateUrl?a.templateUrl:t.DEFAULT_TEMPLATES.NTA_NO_DATA},controller:function(n,a,e){return e.text&&"undefined"!==e.text||(e.text=t.NO_DATA_TEXT),n.text=e.text}}})}.call(this),function(){"use strict";var t;t=angular.module("ngTableAsync"),t.directive("ntaPager",function(t){return{restrict:"E",template:function(n,a){return a.templateUrl&&"undefined"!==a.templateUrl||(a.templateUrl=t.DEFAULT_TEMPLATES.NTA_PAGER),'<div ng-table-pagination="tableParams" template-url="\''+a.templateUrl+"'\"></div>"}}})}.call(this);
//# sourceMappingURL=ng-table-async-tpls.min.js.map
